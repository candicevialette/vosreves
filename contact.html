<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demande d'informations - Vos Rêves</title>
    <meta name="description" content="Contactez l'agence Vos Rêves pour obtenir des informations sur votre projet de voyage.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header class="main-header">
        <div class="container">
            <nav class="main-nav">
                <a href="index.html" class="logo">
                    <img src="img/Vosreves_Logo.png" alt="Logo Vos Rêves">
                </a>
                <a href="index.html#contact" class="btn-primary">Contactez-nous</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="section-padding">
            <div class="container">
                <div class="page-header">
                    <h1>Formulaire de Demande d'Informations</h1>
                    <p class="page-intro">
                        Décrivez-nous votre projet de vacances et nous reviendrons vers vous sous 8 jours avec des propositions adaptées.
                    </p>
                </div>

                <form id="info-form" class="submission-form">
                    <!-- Section Identité -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nom">Nom :</label>
                            <input type="text" id="nom" name="nom" required>
                        </div>
                        <div class="form-group">
                            <label for="prenom">Prénom :</label>
                            <input type="text" id="prenom" name="prenom" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email">Adresse mail (*) :</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <!-- Section Projet -->
                    <div class="form-group">
                        <label for="projet">Descriptif de votre projet (*) :</label>
                        <textarea id="projet" name="projet" rows="8" placeholder="Ex: Voyage en famille, lune de miel, centres d'intérêt..." required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="date_depart">Date de départ approximative :</label>
                            <input type="date" id="date_depart" name="date_depart">
                        </div>
                        <div class="form-group">
                            <label for="duree">Durée envisagée en jours :</label>
                            <input type="number" id="duree" name="duree" min="1">
                        </div>
                    </div>

                    <!-- Section Choix -->
                    <fieldset class="form-group">
                        <legend>Zone géographique :</legend>
                        <div class="radio-group">
                            <label><input type="radio" name="zone" value="Polynesie"> Polynésie</label>
                            <label><input type="radio" name="zone" value="Amerique du nord"> Amérique du nord</label>
                            <label><input type="radio" name="zone" value="Europe"> Europe</label>
                        </div>
                    </fieldset>

                    <fieldset class="form-group">
                        <legend>Type d'informations désirées :</legend>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="infos" value="Transport"> Transport (vol, ...)</label>
                            <label><input type="checkbox" name="infos" value="Hebergement"> Hébergement (hôtel, pension, ...)</label>
                            <label><input type="checkbox" name="infos" value="Excursion"> Excursion</label>
                        </div>
                    </fieldset>

                    <!-- Section Agence -->
                    <fieldset class="form-group">
                        <legend>Veuillez indiquer l'agence qui prendra en charge votre demande (*) :</legend>
                        <div class="radio-group">
                            <label><input type="radio" name="agence" value="Bordeaux" required> Bordeaux</label>
                            <label><input type="radio" name="agence" value="Lyon"> Lyon</label>
                            <label><input type="radio" name="agence" value="Marseille"> Marseille</label>
                        </div>
                    </fieldset>

                    <!-- Boutons et message de statut -->
                    <div class="form-actions">
                        <button type="submit" id="submit-btn" class="btn-primary">Soumettre</button>
                        <button type="reset" class="btn-secondary">Annuler</button>
                    </div>
                    <p id="form-status"></p>
                </form>
            </div>
        </section>
    </main>

    <footer id="contact" class="main-footer">
        <div class="container footer-grid">
            <div class="footer-column">
                <h4>Bordeaux</h4>
                <p><strong>Adresse :</strong> 10 Cours Alsace et Lorraine</p>
                <p><strong>Téléphone :</strong> 05 57 12 12 12</p>
                <ul>
                    <li>Lun: 14h-17h</li>
                    <li>Mar-Ven: 9h-12h & 14h-18h</li>
                    <li>Sam: 9h-17h</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Lyon</h4>
                <p><strong>Adresse :</strong> 100 rue de la Part Dieu</p>
                <p><strong>Téléphone :</strong> 04 78 12 12 12</p>
                <ul>
                    <li>Mar-Ven: 8h30-12h & 14h-18h</li>
                    <li>Sam: 9h-18h</li>
                    <li>Lundi: Fermé</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Marseille</h4>
                <p><strong>Adresse :</strong> 10 Avenue Saint Antoine</p>
                <p><strong>Téléphone :</strong> 04 91 12 12 12</p>
                <ul>
                    <li>Mar-Jeu: 8h30-12h & 14h-18h</li>
                    <li>Ven: 8h30-12h30 & 13h30-18h</li>
                    <li>Sam: 8h-18h</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Supports</h4>
                <p><i class="fas fa-envelope"></i> <a href="mailto:contact@vosreves.fr">contact@vosreves.fr</a></p>
                <p><i class="fas fa-phone"></i> +01 234 567 890</p>
                 <div class="footer-socials">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Vos Rêves. Tous droits réservés.</p>
        </div>
    </footer>


    <!-- Le JavaScript qui fera fonctionner le formulaire se trouvera ici -->
     <script>
        const form = document.getElementById('info-form');
        const statusMessage = document.getElementById('form-status');
        const submitButton = document.getElementById('submit-btn');

        // COLLEZ L'URL DE VOTRE APPLICATION WEB GOOGLE ICI
        const googleAppScriptUrl = 'https://script.google.com/macros/s/AKfycby3em_z_lPlykqCff8h276QFUCIpPaZL57Keyst13v3D92GlnLZMo997morhKLYbbN4ZA/exec';

        form.addEventListener('submit', event => {
            event.preventDefault();

            statusMessage.textContent = 'Envoi en cours...';
            statusMessage.style.color = '#333';
            submitButton.disabled = true;

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            // Gérer les checkboxes pour les envoyer comme une liste
            data.infos = formData.getAll('infos');

            // Ajout des données requises par le professeur
            data.date_creation = new Date().toISOString();
            data.etat = "Nouveau";

            fetch(googleAppScriptUrl, {
                method: 'POST',
                mode: 'no-cors', // Important pour ce type de requête
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(response => {
                statusMessage.textContent = 'Merci ! Votre demande a bien été envoyée.';
                statusMessage.style.color = 'green';
                form.reset();
            })
            .catch(error => {
                statusMessage.textContent = 'Erreur lors de l\'envoi. Veuillez réessayer plus tard.';
                statusMessage.style.color = 'red';
                console.error('Error:', error);
            })
            .finally(() => {
                submitButton.disabled = false;
            });
        });
    </script>
</body>
</html>
